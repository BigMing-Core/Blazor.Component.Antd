@inherits LuanNiao.Blazor.Core.LNBCBase
@using Microsoft.AspNetCore.Components.Web
@using LuanNiao.Blazor.Component.Antd.Icons


<CascadingValue Value="this">
    @if (this.RootMenuInstance is HorizontalMenu)
    {
        <li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" role="menuitem" style="display: none;">
            <div class="ant-menu-submenu-title" role="button" aria-expanded="false" aria-haspopup="true">
                <span>···</span>
                <i class="ant-menu-submenu-arrow"></i>
            </div>
        </li>
    }
    <li class="@ClassName"
        id="@($"mainli_{IdentityKey}")"
        style="@CStyle" 
        role="menuitem"
        @onmouseover="@OnMouseOver"
        @onmouseout="@OnMouseOut">
        @if (this.RootMenuInstance is InlineMenu inlineMenuInfo && !inlineMenuInfo.Collapsed)
        {
            <div @onclick="@OnMouseClick" class="ant-menu-submenu-title" role="button" aria-expanded="false" aria-haspopup="true" style="padding-left:24px;">
                @Title
                <i class="ant-menu-submenu-arrow"></i>
            </div>
            <ul class="@HideSubMenuULClassName" role="menu" style="@_hideSubMenuULStyle">
                @ChildContent
            </ul>
        }

        @if (this.RootMenuInstance is InlineMenu inlineMenuInfo1 && inlineMenuInfo1.Collapsed)
        {
            <div @onclick="@OnMouseClick" class="ant-menu-submenu-title" role="button" aria-expanded="false" aria-haspopup="true" style="padding-left:24px;">
                @Title
                <i class="ant-menu-submenu-arrow"></i>
            </div>
        }
        else if (this.RootMenuInstance is HorizontalMenu horizontalMenu)
        {
            <div class="ant-menu-submenu-title" role="button" aria-expanded="false" aria-haspopup="true">
                @Title
                <i class="ant-menu-submenu-arrow"></i>
            </div>
        }
        else if (this.RootMenuInstance is DropdownMenu)
        {
            <div class="ant-dropdown-menu-submenu-title" role="button" aria-expanded="false" aria-haspopup="true">
                @Title
                <span class="ant-dropdown-menu-submenu-arrow">
                    <span role="img" aria-label="right" class="anticon anticon-right ant-dropdown-menu-submenu-arrow-icon">
                        <svg viewBox="64 64 896 896" focusable="false" class="" data-icon="right" width="1em" height="1em" fill="currentColor" aria-hidden="true">
                            <path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"></path>
                        </svg>
                    </span>
                </span>
            </div>
        }
    </li>


    @if (this.RootMenuInstance is HorizontalMenu)
    {
        <div style="position: absolute; top: 0px; left: 0px; width: 100%;">
            <div>
                <div class="@HideSubMenuDivClassName" style="@_hideSubMenuDivStyle" id="@($"hideSubMenuDiv_{IdentityKey}")" @onmouseover="@OnMouseOver" @onmouseout="@OnMouseOut">
                    <ul class="@HideSubMenuULClassName" role="menu" style="@_hideSubMenuULStyle">
                        @ChildContent
                    </ul>
                </div>
            </div>
        </div>
    }
    else if (this.RootMenuInstance is InlineMenu inlineMenuInstance && inlineMenuInstance.Collapsed)
    {
        <div style="position: absolute; top: 0px; left: 0px; width: 100%;">
            <div>
                <div class="@HideSubMenuDivClassName" style="@_hideSubMenuDivStyle" id="@($"hideSubMenuDiv_{IdentityKey}")" @onmouseover="@OnMouseOver" @onmouseout="@OnMouseOut">
                    <ul class="@HideSubMenuULClassName" role="menu" style="@_hideSubMenuULStyle" id="@($"subul_{IdentityKey}")">
                        @ChildContent
                    </ul>
                </div>
            </div>
        </div>
    }
    else if (this.RootMenuInstance is DropdownMenu)
    {
        <div style="position: absolute; top: 0px; left: 0px; width: 100%;">
            <div>
                <div class="@HideSubMenuDivClassName" style="@_hideSubMenuDivStyle" id="@($"hideSubMenuDiv_{IdentityKey}")" @onmouseover="@OnMouseOver" @onmouseout="@OnMouseOut">
                    <ul class="@HideSubMenuULClassName" role="menu" style="@_hideSubMenuULStyle" id="@($"subul_{IdentityKey}")">
                        @ChildContent
                    </ul>
                </div>
            </div>
        </div>

    }

</CascadingValue>